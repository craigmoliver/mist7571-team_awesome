<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>My Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assets/scaventure.min.css" />
    <link rel="stylesheet" href="assets/jquery.mobile.icons.min.css" />
    <link rel="stylesheet" href="assets/jquery.mobile.structure-1.4.2.min.css" />
    <script src="assets/jquery-1.11.1.min.js"></script>
    <script src="assets/jquery.mobile-1.4.2.min.js"></script>

    <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript" src="assets/jquery.ui.map.js"></script>
    <script type="text/javascript" src="assets/jquery.ui.map.extensions.js"></script>

    <style type="text/css">
        #map_canvas {
            background-color:#005599;
            margin:0 auto;
            width:300px;
            height:300px;
        }

    </style>


</head>
<body>

<div data-role="page">
    <div data-role="header">
        <h1>Scaventure</h1>
    </div><!-- /header -->

    <div data-role="content" class="ui-content" id="map_canvas">

    </div><!-- /content -->
</div><!-- /page -->

<script type="text/javascript">
    $('#map_canvas').gmap().bind('init', function(evt, map) {
        $('#map_canvas').gmap('getCurrentPosition', function(position, status) {
            if ( status === 'OK' ) {
                var clientPosition = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
                $('#map_canvas').gmap('addMarker', {'position': clientPosition, 'bounds': true});
                $('#map_canvas').gmap('addShape', 'Circle', {
                    'strokeWeight': 0,
                    'fillColor': "#008595",
                    'fillOpacity': 0.25,
                    'center': clientPosition,
                    'radius': 15,
                    'clickable': false
                });
            }
        });
    });

    $('#map_canvas').gmap({'callback': function() {
        var self = this;
        self.getCurrentPosition(function(position, status) {
            if ( status === 'OK' ) {
                var clientPosition = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
                self.addMarker({'position': clientPosition, 'bounds': true});
                self.addShape('Circle', {
                    'strokeWeight': 0,
                    'fillColor': "#008595",
                    'fillOpacity': 0.25,
                    'center': clientPosition,
                    'radius': 15,
                    'clickable': false
                });
            }
        });
    }});
    $('#map_canvas').gmap('getCurrentPosition', function(position, status) {
        if ( status === 'OK' ) {
            var clientPosition = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
            $('#map_canvas').gmap('addMarker', {'position': clientPosition, 'bounds': true});
            $('#map_canvas').gmap('addShape', 'Circle', {
                'strokeWeight': 0,
                'fillColor': "#008595",
                'fillOpacity': 0.25,
                'center': clientPosition,
                'radius': 15,
                'clickable': false
            });
        }
    });
</script>

</body>
</html>